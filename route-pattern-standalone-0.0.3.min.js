(function(t){if("function"==typeof bootstrap)bootstrap("routepattern",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeRoutePattern=t}else"undefined"!=typeof window?window.RoutePattern=t():global.RoutePattern=t()})(function(){return function(t,e,r){function n(r,o){if(!e[r]){if(!t[r]){var i="function"==typeof require&&require;if(!o&&i)return i(r,!0);if(a)return a(r,!0);throw Error("Cannot find module '"+r+"'")}var s=e[r]={exports:{}};t[r][0].call(s.exports,function(e){var a=t[r][1][e];return n(a?a:e)},s,s.exports)}return e[r].exports}for(var a="function"==typeof require&&require,o=0;r.length>o;o++)n(r[o]);return n}({1:[function(t,e){function r(){return[].slice.call(arguments).reduce(function(t,e){for(var r in e)t[r]=e[r];return t},{})}function n(t){return t.split("&").reduce(function(t,e){var r=e.split("="),n=decodeURIComponent(r[0]),a=decodeURIComponent(r[1]||"");return t[n]=a,t},{})}function a(t){var e=/([^\?#]*)?(\?[^#]*)?(#.*)?$/,r=e.exec(t);return{path:r[1]||"",queryString:r[2]&&r[2].substring(1)||"",hash:r[3]&&r[3].substring(1)||""}}var o=function(){function t(t){this.params=t.params,this.allowWildcards=t.allowWildcards,this.routeString=t.routeString}return t.prototype.matches=function(t){for(var e,r=(t||"").split("&").reduce(function(t,e){var r=e.split("="),n=r[0],a=r[1];return n&&(t[n]=a),t},{}),n=[].concat(this.params);e=n.shift();){if(!r.hasOwnProperty(e.key))return!1;if(e.value&&r[e.key]!=e.value)return!1}return!this.allowWildcards&&this.params.length&&Object.getOwnPropertyNames(r).length>this.params.length?!1:!0},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{},namedQueryParams:{},queryParams:{}};if(!t)return e;var r=this.params.reduce(function(t,e){return t[e.key]=e.name,t},{});return t.split("&").forEach(function(t){var n=t.split("="),a=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]||"");e.queryParams[a]=o,e.params.push(o),r[a]&&(e.namedQueryParams[r[a]]=e.namedParams[r[a]]=o)}),e},t.fromString=function(e){var r={routeString:e,allowWildcards:!1,params:[]};return e.split("&").forEach(function(t){if(t){var e=t.split("="),n=e[0],a=e[1]||"",o=!1,i={key:n};":"==a.charAt(0)?i.name=a.substring(1):"*"==n&&""==a?o=r.allowWildcards=!0:i.value=a,o||r.params.push(i)}}),new t(r)},t}(),i=function(){function t(t){this.regexp=t.regexp,this.params=t.params,this.routeString=t.routeString}var e=/:\w+/g,r=/\*\w+/g,n=/(:[^\/\.]+)|(\*\w+)/g,a=/\*/g,o=/[-[\]{}()+?.,\\^$|#\s]/g;return t.prototype.matches=function(t){return this.regexp.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{}};return(this.regexp.exec(t)||[]).slice(1).forEach(function(t,r){t=decodeURIComponent(t),e.namedParams[this.params[r]]=t,e.params.push(t)},this),e},t.routePathToRegexp=function(t){return t=t.replace(o,"\\$&").replace(e,"([^/]+)").replace(r,"(.*)?").replace(a,".*?").replace(/\/?$/,"/?"),RegExp("^/?"+t+"$")},t.fromString=function(e){e=e.split(/\?|#/)[0];var r={routeString:e,regexp:t.routePathToRegexp(e),params:(e.match(n)||[]).map(function(t){return t.substring(1)})};return new t(r)},t}(),s=function(){function t(t){this.regex=t}return t.prototype.matches=function(t){return this.regex.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e=a(t),r=n(e.queryString);return{params:this.regex.exec(t).slice(1),namedParams:{},queryParams:r}},t}(),u=function(){function t(t){this.pathPattern=t.pathPattern,this.queryStringPattern=t.queryStringPattern,this.hashPattern=t.hashPattern,this.routeString=t.routeString}return t.prototype.matches=function(t){var e=a(t);return!(this.pathPattern&&!this.pathPattern.matches(e.path)||this.queryStringPattern&&!this.queryStringPattern.matches(e.queryString)||this.hashPattern&&!this.hashPattern.matches(e.hash))},t.prototype.match=function(t){if(!this.matches(t))return null;var e,n,o=a(t),i={params:[],namedParams:{},pathParams:{},queryParams:{},namedQueryParams:{},hashParams:{}},s=function(t){i.params=i.params.concat(t.params),i.namedParams=r(i.namedParams,t.namedParams)};return(n=this.pathPattern)&&(e=n.match(o.path),e&&s(e),i.pathParams=e?e.namedParams:{}),(n=this.queryStringPattern)&&(e=n.match(o.queryString),e&&s(e),i.queryParams=e?e.queryParams:{},i.namedQueryParams=e?e.namedQueryParams:{}),(n=this.hashPattern)&&(e=n.match(o.hash),e&&s(e),i.hashParams=e?e.namedParams:{}),i},t.fromString=function(e){var r=a(e),n=r.path,s=r.queryString||e.indexOf("?")>-1,u=r.hash||e.indexOf("#")>-1;return new t({pathPattern:n&&i.fromString(r.path),queryStringPattern:s&&o.fromString(r.queryString),hashPattern:u&&i.fromString(r.hash),routeString:e})},t}();e.exports=u,u.QueryStringPattern=o,u.PathPattern=i,u.RegExpPattern=s},{}]},{},[1])(1)});